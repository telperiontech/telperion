# @telperion/ng-pack

A collection of Angular utilities and libraries

## Installation

```bash
npm install @telperion/ng-pack
```

## Available Modules

### Storage Signals

**Import:** `@telperion/ng-pack/storage-signals`

Angular signals-based wrapper for browser's localStorage and sessionStorage with reactive updates.

#### Key Features

- üöÄ Signal-based API integrated with Angular's signal system
- üîÑ Reactive updates automatically synced across components
- üéØ Nested property access using dot notation
- üè™ Support for both localStorage and sessionStorage
- üîë Namespaced storage organization

#### Quick Start

```typescript
import { ApplicationConfig } from '@angular/core';
import { provideLocalStorage } from '@telperion/ng-pack/storage-signals';

export const appConfig: ApplicationConfig = {
  providers: [
    provideLocalStorage('my-app'),
  ]
};
```

```typescript
import { Component } from '@angular/core';
import { localStorageSignal } from '@telperion/ng-pack/storage-signals';

@Component({
  selector: 'app-settings',
  template: `
    <div>
      <p>Theme: {{ theme() }}</p>
      <button (click)="theme.set('dark')">Dark Mode</button>
    </div>
  `
})
export class SettingsComponent {
  // Access nested properties with dot notation
  theme = localStorageSignal<string>('settings', 'ui.theme');
}
```

[Full documentation ‚Üí](./storage-signals/README.md)

---

### Template Signal Forms

**Import:** `@telperion/ng-pack/template-signal-forms`

üöß **Under Construction**

Signal-based forms utilities for Angular template-driven forms.

---

### Utils

**Import:** `@telperion/ng-pack/utils`

Angular utility functions and plugins for enhanced development experience.

#### Key Features

- üéØ Event modifier syntax for templates (`.pd`, `.sp`)
- üîó Directive-as-service provider utility
- üåê Promise-based HTTP client with tuple error handling
- üì¶ Tree-shakeable and type-safe
- ‚ö° Zero dependencies

#### Quick Start

**Event Modifiers Plugin**

```typescript
import { provideEventModifiersPlugin } from '@telperion/ng-pack/utils';

bootstrapApplication(AppComponent, {
  providers: [provideEventModifiersPlugin()]
});
```

```html
<!-- Prevent default and stop propagation with modifiers -->
<form (submit.pd)="onSubmit()">...</form>
<div (click.sp)="handleClick()">...</div>
<button (click.pd.sp)="handleButtonClick()">Click me</button>
```

**Construct Fetcher**

```typescript
import { Component } from '@angular/core';
import { constructFetcher } from '@telperion/ng-pack/utils';

@Component({
  selector: 'app-example',
  template: `<button (click)="fetchData()">Fetch Data</button>`
})
export class ExampleComponent {
  private fetcher = constructFetcher();

  async fetchData() {
    const [error, response] = await this.fetcher.get('/api/data');
    
    if (error) {
      console.error('Error:', error);
      return;
    }
    
    console.log('Data:', response);
  }
}
```

**Provide Service Directive**

```typescript
import { provideServiceDirective } from '@telperion/ng-pack/utils';

// Create an injection token
export const ParentService = new InjectionToken<ParentDirective>("ParentService");

// Provide directive as service
@Directive({
  selector: '[parent]',
  providers: [provideServiceDirective(ParentService, ParentDirective)],
})
export class ParentDirective { }

// Inject in child
@Directive({ selector: '[child]' })
export class ChildDirective {
  private parent = inject(ParentService);
}
```

[Full documentation ‚Üí](./utils/README.md)

---

## Development

### Running Unit Tests

Run `pnpm nx test ng-pack` to execute the unit tests.

### Building

Run `pnpm nx build ng-pack` to build the library.

## License

This library is part of the Telperion monorepo.
